!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){e.document_createDocumentFragment=(()=>document.createDocumentFragment()),e.document_createElement=(t=>document.createElement(t)),e.document_createTextNode=(t=>document.createTextNode(t)),e.appendChild=((t,e)=>{t.appendChild(e)}),e.setAttribute=((t,e,n)=>{t.setAttribute(e,n)})},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){e.document_createDocumentFragment=(()=>document.createDocumentFragment()),e.document_createElement=(t=>document.createElement(t)),e.document_createTextNode=(t=>document.createTextNode(t)),e.appendChild=((t,e)=>{t.appendChild(e)}),e.setAttribute=((t,e,n)=>{t.setAttribute(e,n)})},function(t,e,n){var r=n(2);"string"==typeof r&&(r=[[t.i,r,""]]),n(4)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,".open-with-newsfeeder-button{position:relative;display:inline-block;box-sizing:border-box;background-clip:padding-box;margin:0;font:inherit;color:inherit;background:0 0;line-height:normal;font-family:-apple-system,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;-moz-osx-font-smoothing:grayscale;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;height:auto;text-decoration:none;font-size:17px;line-height:32px;letter-spacing:0;vertical-align:middle;border:0 solid;border-radius:3px;transition:none;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);font-family:Roboto,Noto,sans-serif;-webkit-font-smoothing:antialiased;font-weight:400;min-height:36px;line-height:36px;padding:0 16px 0 0;text-align:center;font-size:14px;-webkit-transform:translateZ(0);transform:translateZ(0);text-transform:uppercase;background-color:#f5593d;color:#fff;font-weight:500;transition:background-color .25s linear;opacity:1;transition:all .25s linear}.open-with-newsfeeder-button img{vertical-align:top}",""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n,r=t[1]||"",o=t[3];if(!o)return r;if(e&&"function"==typeof btoa){var i=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),c=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[r].concat(c).concat([i]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<t.length;o++){var c=t[o];null!=c[0]&&r[c[0]]||(n&&!c[2]?c[2]=n:n&&(c[2]="("+c[2]+") and ("+n+")"),e.push(c))}},e}},function(t,e,n){var r,o,i={},c=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),a=null,u=0,s=[],d=n(5);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var c=0;c<o.parts.length;c++)o.parts[c](r.parts[c]);for(;c<r.parts.length;c++)o.parts.push(g(r.parts[c],e))}else{var l=[];for(c=0;c<r.parts.length;c++)l.push(g(r.parts[c],e));i[r.id]={id:r.id,refs:1,parts:l}}}}function p(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],c=e.base?i[0]+e.base:i[0],l={css:i[1],media:i[2],sourceMap:i[3]};r[c]?r[c].parts.push(l):n.push(r[c]={id:c,parts:[l]})}return n}function m(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=s[s.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),s.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(t.insertAt.before,n);n.insertBefore(e,o)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=s.indexOf(t);e>=0&&s.splice(e,1)}function h(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=n.nc;r&&(t.attrs.nonce=r)}return b(e,t.attrs),m(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var c=u++;n=a||(a=h(e)),r=I.bind(null,n,c,!1),o=I.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),m(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var c=new Blob([r],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(c),l&&URL.revokeObjectURL(l)}.bind(null,n,e),o=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(e),r=function(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){y(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=c()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var c=n[o];(l=i[c.id]).refs--,r.push(l)}for(t&&f(p(t,e),e),o=0;o<r.length;o++){var l;if(0===(l=r[o]).refs){for(var a=0;a<l.parts.length;a++)l.parts[a]();delete i[l.id]}}}};var v,C=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function I(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=C(e,o);else{var i=document.createTextNode(o),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(i,c[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){"use strict";n.r(e);var r=n(0);function o(t={}){var e=Object(r.document_createElement)("a");Object(r.setAttribute)(e,"target",""+t.target),Object(r.setAttribute)(e,"class","open-with-newsfeeder-button");var n=Object(r.document_createElement)("img");return Object(r.setAttribute)(n,"height","35"),Object(r.setAttribute)(n,"src",""+t.svguri),Object(r.setAttribute)(n,"alt","Newsfeeder icon"),Object(r.appendChild)(e,n),Object(r.appendChild)(e,Object(r.document_createTextNode)(" Open with Newsfeeder")),e}var i=n(1),c=n.n(i);console.log(o,c.a);var l=function(t){var e=t.container,n=t.href,r=t.target,i=void 0===r?"_blank":r;"string"==typeof e&&(e=document.querySelector(e));var c=e.appendChild(o({svguri:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg0KPHN2ZyB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1MDUiIGhlaWdodD0iNTA1Ij48Y2lyY2xlIGN4PSIyNTMiIGN5PSIyNTMiIHI9IjI1MyIgZmlsbD0iI2Y1NTkzZCIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xNzkgNDE5di01NGgtNTNWODZoMjUzdjMzM3oiLz48cGF0aCBmaWxsPSIjZTZlOWVlIiBkPSJNMTc5IDQxOWwtNTMtNTRoNTN6Ii8+PGcgZmlsbD0iI2Y1NTkzZCI+PHBhdGggZD0iTTE5NCAxMTJoOXY0MWgtOWwtMTktMjZ2MjZoLTEwdi00MWg5bDIwIDI2di0yNnpNMjQyIDExMnY4aC0yMHY5aDE4djdoLTE4djloMjF2OGgtMzB2LTQxaDI5ek0yNjQgMTM2bDctMjRoMTBsNyAyNCA4LTI0aDEwbC0xNSA0MWgtNmwtOS0yOC05IDI4aC03bC0xNC00MWgxMGw4IDI0ek0zMjAgMTIwbC0yIDMgMiAzIDcgMmM0IDEgNyAzIDkgNXM0IDQgNCA4LTIgNy01IDljLTIgMi02IDMtMTAgMy03IDAtMTMtMi0xOC03bDYtNmM0IDMgOCA1IDEyIDVsNC0xIDEtMy0xLTMtNi0yYy01LTEtOS0yLTExLTRzLTMtNS0zLTkgMS02IDQtOWMzLTIgNi0zIDEwLTNsOSAyIDcgNC01IDZjLTMtMi03LTQtMTEtNGwtMyAxeiIvPjwvZz48ZyBmaWxsPSIjZTZlOWVlIj48cGF0aCBkPSJNMTQ5IDE3NmgyMDh2NEgxNDl6TTE0OSAxNjhoMjA4djRIMTQ5eiIvPjwvZz48cGF0aCBmaWxsPSIjYWNiM2JhIiBkPSJNMTQ5IDE5Mmg5M3Y2NmgtOTN6Ii8+PGcgZmlsbD0iI2U2ZTllZSI+PHBhdGggZD0iTTE0OSAyNzFoOTN2MTJoLTkzek0xNDkgMjkzaDkzdjEyaC05M3pNMTQ5IDMxNmg5M3YxMmgtOTN6TTE0OSAzMzhoOTN2MTJoLTkzeiIvPjwvZz48cGF0aCBmaWxsPSIjYWNiM2JhIiBkPSJNMjY0IDI4NGg5M3Y2NmgtOTN6Ii8+PGcgZmlsbD0iI2U2ZTllZSI+PHBhdGggZD0iTTI2NCAyNTloOTN2MTJoLTkzek0yNjQgMjM2aDkzdjEyaC05M3pNMjY0IDIxNGg5M3YxMmgtOTN6TTI2NCAxOTJoOTN2MTJoLTkzeiIvPjwvZz48IS0tIENvZGUgaW5qZWN0ZWQgYnkgbGl2ZS1zZXJ2ZXIgLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KCS8vIDwhW0NEQVRBWyAgPC0tIEZvciBTVkcgc3VwcG9ydAoJaWYgKCdXZWJTb2NrZXQnIGluIHdpbmRvdykgewoJCShmdW5jdGlvbiAoKSB7CgkJCWZ1bmN0aW9uIHJlZnJlc2hDU1MoKSB7CgkJCQl2YXIgc2hlZXRzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpKTsKCQkJCXZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTsKCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgc2hlZXRzLmxlbmd0aDsgKytpKSB7CgkJCQkJdmFyIGVsZW0gPSBzaGVldHNbaV07CgkJCQkJdmFyIHBhcmVudCA9IGVsZW0ucGFyZW50RWxlbWVudCB8fCBoZWFkOwoJCQkJCXBhcmVudC5yZW1vdmVDaGlsZChlbGVtKTsKCQkJCQl2YXIgcmVsID0gZWxlbS5yZWw7CgkJCQkJaWYgKGVsZW0uaHJlZiAmJiB0eXBlb2YgcmVsICE9ICJzdHJpbmciIHx8IHJlbC5sZW5ndGggPT0gMCB8fCByZWwudG9Mb3dlckNhc2UoKSA9PSAic3R5bGVzaGVldCIpIHsKCQkJCQkJdmFyIHVybCA9IGVsZW0uaHJlZi5yZXBsYWNlKC8oJnxcPylfY2FjaGVPdmVycmlkZT1cZCsvLCAnJyk7CgkJCQkJCWVsZW0uaHJlZiA9IHVybCArICh1cmwuaW5kZXhPZignPycpID49IDAgPyAnJicgOiAnPycpICsgJ19jYWNoZU92ZXJyaWRlPScgKyAobmV3IERhdGUoKS52YWx1ZU9mKCkpOwoJCQkJCX0KCQkJCQlwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbSk7CgkJCQl9CgkJCX0KCQkJdmFyIHByb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cDonID8gJ3dzOi8vJyA6ICd3c3M6Ly8nOwoJCQl2YXIgYWRkcmVzcyA9IHByb3RvY29sICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnL3dzJzsKCQkJdmFyIHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoYWRkcmVzcyk7CgkJCXNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobXNnKSB7CgkJCQlpZiAobXNnLmRhdGEgPT0gJ3JlbG9hZCcpIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKCQkJCWVsc2UgaWYgKG1zZy5kYXRhID09ICdyZWZyZXNoY3NzJykgcmVmcmVzaENTUygpOwoJCQl9OwoJCQlpZiAoc2Vzc2lvblN0b3JhZ2UgJiYgIXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ0lzVGhpc0ZpcnN0VGltZV9Mb2dfRnJvbV9MaXZlU2VydmVyJykpIHsKCQkJCWNvbnNvbGUubG9nKCdMaXZlIHJlbG9hZCBlbmFibGVkLicpOwoJCQkJc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnSXNUaGlzRmlyc3RUaW1lX0xvZ19Gcm9tX0xpdmVTZXJ2ZXInLCB0cnVlKTsKCQkJfQoJCX0pKCk7Cgl9CgllbHNlIHsKCQljb25zb2xlLmVycm9yKCdVcGdyYWRlIHlvdXIgYnJvd3Nlci4gVGhpcyBCcm93c2VyIGlzIE5PVCBzdXBwb3J0ZWQgV2ViU29ja2V0IGZvciBMaXZlLVJlbG9hZGluZy4nKTsKCX0KCS8vIF1dPgo8L3NjcmlwdD48L3N2Zz4=",target:i})),l=document.querySelector('link[type="application/rss+xml"],link[type="application/atom+xml"]'),a=l&&l.getAttribute("href");return(n=n||a)||console.warn('No feed url specified and no rss or atom link (link[type="application/rss+xml"],link[type="application/atom+xml"]) found on the page.'),c.href=n&&"https://newsfeeder.esstudio.site/?feed="+encodeURIComponent(n)||"https://newsfeeder.esstudio.site",c};"undefined"!=typeof window&&(window.renderNewsfeederButton=l),e.default=l}])},,function(t,e,n){"use strict";n.r(e);var r=n(0);var o=n(1),i=n.n(o).a,c=function(t){return t.replace(/<style([\s\S]*?)<\/style>/gi,"").replace(/<script([\s\S]*?)<\/script>/gi,"").replace(/<\/div>/gi,"\n").replace(/<\/li>/gi,"\n").replace(/<li>/gi,"  *  ").replace(/<\/ul>/gi,"\n").replace(/<\/p>/gi,"\n").replace(/<br\s*[\/]?>/gi,"\n").replace(/<[^>]+>/gi,"")},l=function(t,e){return(t=t||"").length>e?t.slice(0,e).trimRight()+"...":t},a=function(t,e){var n=t.getElementsByTagName(e)[0];return(n&&n.textContent||"").trim()},u=function(t,e,n){var r=t.getElementsByTagName(e)[0];return(r&&r.getAttribute(n)||"").trim()},s=function(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t};var d=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.toJSON=function(){return{title:e.title,link:e.link,description:e.description,summary:e.summary,image:e.image,video:e.video,audio:e.audio,author:e.author,contentType:e.contentType,content:e.content,contentBase:e.contentBase,category:e.category,date:e.date,should_update_token:e.should_update_token}},this.title=null,this.link=null,this.description=null,this.summary=null,this.image=null,this.video=null,this.audio=null,this.author=null,this.contentType=null,this.content=null,this.contentBase=null,this.category=null,this.date=null,this.should_update_token=null};d.fromJSON=function(t){var e=new d;return e.title=t.title,e.link=t.link,e.description=t.description,e.summary=t.summary,e.image=t.image,e.video=t.video,e.audio=t.audio,e.author=t.author,e.contentType=t.contentType,e.content=t.content,e.contentBase=t.contentBase,e.category=t.category,e.date=t.date,e.should_update_token=t.should_update_token,e};var f=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.toJSON=function(){return{type:e.type,url:e.url,date:e.date,site:e.site,title:e.title,description:e.description,summary:e.summary,items:e.items.map(function(t){return d.fromJSON(t)}),icon:e.icon,should_update_token:e.should_update_token,category:e.category}},this.type=null,this.url=null,this.date=null,this.site=null,this.title=null,this.description=null,this.summary=null,this.items=null,this.icon=null,this.should_update_token=null,this.category=null};var p=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.normalizeUrl=function(e){if(n.cleanURL(),0===(e=new t(e).cleanURL().string).indexOf("http://")||0===e.indexOf("https://"))n.string=e;else if("/"===e[0]){var r=n.string.split("/");n.string=r[0]+"//"+r[2]+e}else n.string=function(t,e){var n=t.split("/").slice(0,-1),r=e.split("/"),o=[];if("/"===e.trim())t=n[0]+"//"+n[2];else{for(var i=0,c=n.length;i<c;i++)if(".."===n[i])o.pop();else{if("."===n[i]||""===n[i])continue;o.push(n[i])}for(i=0,c=r.length;i<c;i++)if(".."===r[i])o.pop();else{if("."===r[i]||""===r[i])continue;o.push(r[i])}t=o.join("/")}return t}(n.string,e);return n},this.isBaseUrl=function(){return 0===n.string.indexOf("http://")||0===n.string.indexOf("https://")},this.cleanURL=function(){return n.string=n.string.trim(),1===n.string.length&&"/"===n.string[0]||(n.string=n.string.replace(/\/$/,"")),n},this.string=e};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,h(e).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,d),e}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}g.fromAtomXmlItem=function(t,e){var n=l(a(e,"title"),200),r=u(e,"title","type");"text/html"!==r&&"html"!==r||(n=c(n));var o=l(a(e,"link")||u(e,"link","href"),2e4),i=(l(u(e,"summary","type"),2e4),l(a(e,"summary"),3e5)),s=l(a(e,"content"),1e6),d=l(u(e,"content","type"),2e4);d="text/html"===d?"html":"text";var f=i?c(i.slice(0,3e3)).slice(0,2e3):c(s.slice(0,300)).slice(0,200),p=new g;return p.title=n,p.link=o,p.description=f,p.summary=i,p.descIsExcerpt=!i,p.contentType=d,p.author=l(a(e,"author"),200),p.content=s,p.contentType=d,p.contentBase=l(u(e,"content","xml:base"),2e3),p.category=l(a(e,"category")||u(e,"category","term"),4e3),p.date=new Date(a(e,"published")||a(e,"updated")||0).getTime(),p.should_update_token=f.length,p};var T=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=C(this,I(e).call(this))).type="atom",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,f),e}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}T.fromJSON=function(t){var e=new T;return e.url=t.url,e.date=t.date,e.site=t.site,e.title=t.title,e.description=t.description,e.summary=t.summary,e.items=t.items.map(function(t){return g.fromJSON(t)}),e.icon=t.icon,e.should_update_token=t.should_update_token,e.category=t.category,e},T.fromAtomXmlFeed=function(t,e,n){var r=Array.prototype.slice.call(e.getElementsByTagName("entry"),0,1e4).map(function(e){return g.fromAtomXmlItem(t,e)}),o=l(a(e,"link")||u(e,"link")||new p(t).normalizeUrl("/").string,4e3);new p(t).isBaseUrl()||(o=new p(t).normalizeUrl(o).string);var i=o.split("/"),c=i[0].replace("http:","https:")+"//"+i[2]+"/favicon.ico",s=new T;return s.type="atom",s.url=t,s.date=new Date(a(e,"updated")||0).getTime(),s.site=o,s.title=l(a(e,"title"),500),s.description=l(a(e,"subtitle"),4e3),s.items=r,s.icon=c,s.category=[],s.should_update_token=n.length,s};var k=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=x(this,N(e).call(this))).type="rss",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,d),e}();function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}k.fromRssXmlItem=function(t,e){var n,r,o,i=l(a(e,"description"),3e5),u=Array.prototype.slice.call(e.getElementsByTagName("enclosure")).slice(0,100),s=/<[a-z][\s\S]*>/i.test(i);u.forEach(function(e){var i=e.getAttribute("type"),c=i.slice(0,5);"image"===c&&void 0===n?n={url:new p(t).normalizeUrl(e.getAttribute("url")).string,type:i}:"video"===c&&void 0===r?r={url:new p(t).normalizeUrl(e.getAttribute("url")).string,type:i,length:e.getAttribute("length")}:"audio"===c&&void 0===o&&(o={url:new p(t).normalizeUrl(e.getAttribute("url")).string,type:i,length:e.getAttribute("length")})});var d=new k;return d.title=l(a(e,"title"),500),d.link=l(a(e,"link"),2e4),d.description=c(i),d.summary=s?i:void 0,d.image=n||null,d.video=r||null,d.audio=o||null,d.author=l(a(e,"author"),500),d.category=l(a(e,"category"),500),d.date=new Date(a(e,"pubDate")||new Date).getTime(),d.should_update_token=i.length,d};var J=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=M(this,Z(e).call(this))).type="rss",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,f),e}();J.fromJSON=function(t){var e=new J;return e.url=t.url,e.date=t.date,e.site=t.site,e.title=t.title,e.description=t.description,e.summary=t.summary,e.items=t.items.map(function(t){return k.fromJSON(t)}),e.icon=t.icon,e.should_update_token=t.should_update_token,e.category=t.category,e},J.fromRssXmlFeed=function(t,e,n){var r=Array.prototype.slice.call(e.getElementsByTagName("item"),0,1e4).map(function(e){return k.fromRssXmlItem(t,e)}),o=l(a(e,"link"),2e4);new p(o).isBaseUrl(o)||(o=new p(t).normalizeUrl(o).string);var i=o.split("/"),u=i[0].replace("http:","https:")+"//"+i[2]+"/favicon.ico",s=a(e,"description").slice(0,3e3),d=/<[a-z][\s\S]*>/i.test(s),f=new J;return f.url=t,f.date=new Date(a(e,"lastBuildDate")||0).getTime(),f.site=o,f.title=l(a(e,"title"),2e3),f.description=l(c(s),2e3),f.summary=d?s:void 0,f.items=r,f.icon=u,f.should_update_token=n.length,f.category=[],f};var _=function(t){var e=(c(t.description)||c(t.content)).replace().slice(0,200),n=document.createElement("div");return n.innerHTML=e,n.innerText},E=function(t){console.log(t);try{switch(t.responseXML.documentElement.tagName.toUpperCase()){case"FEED":return T.fromAtomXmlFeed(t.responseURL,t.responseXML,t.responseText);case"RSS":return J.fromRssXmlFeed(t.responseURL,t.responseXML,t.responseText);default:return null}}catch(t){return null}},D=document.getElementById("items"),G=function(){s(D),D.appendChild(document.createTextNode("No feed...")),D.classList.add("loaded"),document.querySelector("#items").style.paddingLeft="100px",document.querySelector("#items").style.paddingTop="30px",document.querySelector("#items").style.fontSize="20px"},W=function(t,e,n){return function(t={}){var e=Object(r.document_createElement)("div");Object(r.setAttribute)(e,"class","entry");var n=Object(r.document_createElement)("div");Object(r.setAttribute)(n,"class","before"),Object(r.appendChild)(e,n);var o=Object(r.document_createElement)("div");Object(r.setAttribute)(o,"title",""+t.longdate),Object(r.setAttribute)(o,"class","timestamp"),Object(r.appendChild)(o,Object(r.document_createTextNode)(""+t.date)),Object(r.appendChild)(e,o);var i=Object(r.document_createElement)("a");Object(r.setAttribute)(i,"href",""+t.link),Object(r.setAttribute)(i,"target","_blank");var c=Object(r.document_createElement)("h2");Object(r.setAttribute)(c,"class","entry-title"),Object(r.appendChild)(c,Object(r.document_createTextNode)(""+t.title)),Object(r.appendChild)(i,c),Object(r.appendChild)(e,i);var l=Object(r.document_createElement)("div");return Object(r.setAttribute)(l,"class","content"),Object(r.appendChild)(l,Object(r.document_createTextNode)(t.text+"...")),Object(r.appendChild)(e,l),e}({title:t.title,link:t.link,text:_(t),longdate:new Date(t.date).toLocaleDateString(),date:new Date(t.date).getDate()})};chrome.tabs.query({active:!0,currentWindow:!0},function(t){var e,n=t[0],r=n.url,o=n.id,c=(e=r,new Promise(function(t,n){try{fetch("https://feedly.com/v3/search/feeds?query=".concat(encodeURIComponent(e),"&count=1")).then(function(t){return t.json()}).then(function(e){e?t(e.results[0]):n("No json.")})}catch(t){n(t)}})).then(function(t){var e=t&&t.feedId&&t.feedId.replace(/^feed\//,"")||null;if(e)return function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.timeout=15e3,r.onreadystatechange=function(){4===this.readyState&&(200===this.status?this.responseXML?e(this):n({type:"network",error:"Feed is not returning valid xml.",xhr:this}):n({type:"network",error:this.responseText||"A network error occurred.",xhr:this}))},r.open("GET",t,!0),r.setRequestHeader("Accept","application/rss+xml,application/atom+xml,application/xml,text/xml"),r.send()})}(e).then(E).then(function(t){t&&0!==t.items.length?(s(D),t.items.map(W).forEach(function(t){D.appendChild(t)}),console.log(e),i({container:D,href:e}),D.classList.add("loaded")):G()});G()});document.querySelector(".meta a").setAttribute("href",r),chrome.tabs.sendMessage(o,{action:"META"},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.themeColor,n=t.title,r=t.description;document.querySelector(".feed .meta .hr").style.borderBottomColor=e,document.querySelector(".feed .after").style.backgroundColor=e,document.querySelector(".feed .before").style.borderLeftColor=e,c.then(function(){document.querySelectorAll(".feed .entry .before").forEach(function(t){return t.style.backgroundColor=e}),document.querySelectorAll(".feed .entry .timestamp").forEach(function(t){return t.style.backgroundColor=e})}),document.querySelector(".meta-title").textContent=n,document.title=n,document.querySelector(".meta-title").setAttribute("title",r)})})}]);